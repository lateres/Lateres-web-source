{{- $fragment := .self.Params -}}
{{- $name := strings.TrimSuffix ".md" (replace .self.Name "/index.md" "") -}}
{{- $bg := $fragment.background | default "light" -}}
{{- $title := $fragment.title | default "Custom fragments" -}}
{{- $videoSrc := $fragment.video | default "https://www.youtube.com/embed/default" -}}
{{- $ratio := $fragment.ratio | default "16by9" -}}

<section id="{{ $name }}">
  <div class="overlay container-fluid bg-{{ $bg }}">
    <div class="container py-2">
      <div class="row">
        <div class="col text-center">
          <div class="embed-responsive embed-responsive-{{ $ratio }}">
            <iframe 
              class="embed-responsive-item" 
              src="{{ $videoSrc }}" 
              title="{{ $fragment.iframe_title | default "Video Player" }}" 
              frameborder="0" 
              allow="encrypted-media" 
              allowfullscreen>
            </iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
